import{P as G,R as k,r as v,j as e,L as u,an as j,ao as N,ap as _,e as T,l as C}from"./index-f22446e5.js";import{B as Z}from"./Breadcrumb-c1517ab0.js";import{P as H}from"./PageContainer-53646ac6.js";import{M as R,r as z,l as L}from"./index.esm-e0300107.js";import{B as P}from"./BlankCard-3b4c954c.js";import{G as f}from"./Grid-6c01a67e.js";import{S}from"./Skeleton-04624f64.js";import{T as b,s as y}from"./Typography-493ceae3.js";import{C as J}from"./CardMedia-fa7d92a4.js";import{C as E}from"./CardContent-621adc32.js";import{S as o}from"./Stack-58acc4b3.js";import{T as M}from"./Tooltip-c24d37bb.js";import{A}from"./Avatar-934745ac.js";import{C as B}from"./Chip-22604cd4.js";import{B as p}from"./Box-f8c4e902.js";import{f as D}from"./index-70e737d1.js";import{u as I}from"./useDispatch-ce130263.js";import{P as K}from"./Pagination-3bcc2fb9.js";import"./Link-f430d0ec.js";import"./Card-99a14ea7.js";import"./Paper-eafa25ad.js";import"./createStack-e9d30bfe.js";import"./styled-af0837ae.js";import"./Popper-7c45775d.js";import"./ownerDocument-613eb639.js";import"./Portal-bdf58041.js";import"./createPopper-319e19c4.js";import"./useControlled-7a3bcd39.js";import"./useId-6ded1857.js";import"./Grow-1067b88b.js";import"./utils-e57cfcaa.js";import"./index-5a0c5ef2.js";import"./LastPage-13b3e262.js";const F=({post:i})=>{const s=I(),{coverImg:a,title:n,view:l,comments:t,category:r,author:g,createdAt:c}=i,m=n.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),[d,w]=k.useState(!0);return v.useEffect(()=>{const x=setTimeout(()=>{w(!1)},700);return()=>clearTimeout(x)},[]),e.jsx(f,{item:!0,xs:12,lg:4,md:4,sm:6,display:"flex",alignItems:"stretch",children:d?e.jsx(e.Fragment,{children:e.jsx(S,{animation:"wave",variant:"square",width:"100%",height:400,sx:{borderRadius:x=>x.shape.borderRadius/5}})}):e.jsxs(P,{className:"hoverCard",children:[e.jsx(b,{component:u,to:`/apps/blog/detail/${m}`,onClick:()=>s(j(m)),children:e.jsx(J,{component:"img",height:"240",image:a,alt:"green iguana"})}),e.jsxs(E,{children:[e.jsxs(o,{direction:"row",sx:{marginTop:"-45px"},children:[e.jsx(M,{title:g.name,placement:"top",children:e.jsx(A,{"aria-label":"recipe",src:g.avatar})}),e.jsx(B,{sx:{marginLeft:"auto",marginTop:"-21px",backgroundColor:"white"},label:"2 min Read",size:"small"})]}),e.jsx(B,{label:r,size:"small",sx:{marginTop:2}}),e.jsx(p,{my:3,children:e.jsx(b,{gutterBottom:!0,variant:"h5",color:"inherit",sx:{textDecoration:"none"},component:u,to:`/apps/blog/detail/${m}`,onClick:()=>s(j(m)),children:n})}),e.jsxs(o,{direction:"row",gap:3,alignItems:"center",children:[e.jsxs(o,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(R,{size:"18"})," ",l]}),e.jsxs(o,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(z,{size:"18"})," ",t.length]}),e.jsxs(o,{direction:"row",ml:"auto",alignItems:"center",children:[e.jsx(L,{size:"16"}),e.jsx("small",{children:D(new Date(c),"E, MMM d")})]})]})]})]})})};F.propTypes={post:G.object.isRequired};const O=y(E)({position:"absolute",top:"0",left:"0",zIndex:1,width:"100%",height:"100%",color:"white"}),Q=y(p)({top:0,content:"''",width:"100%",height:"100%",position:"absolute"}),U=({post:i,index:s})=>{const a=I(),{coverImg:n,title:l,view:t,comments:r,category:g,author:c,createdAt:m}=i,d=l.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),w=s===0,x=y(P)({p:0,height:"400px",position:"relative",background:`url(${n}) no-repeat center`,backgroundSize:"cover"}),[$,q]=k.useState(!0);return v.useEffect(()=>{const h=setTimeout(()=>{q(!1)},700);return()=>clearTimeout(h)},[]),e.jsx(e.Fragment,{children:i?e.jsx(f,{item:!0,xs:12,lg:w?8:4,md:12,sm:12,display:"flex",alignItems:"stretch",children:$?e.jsx(e.Fragment,{children:e.jsx(S,{variant:"square",animation:"wave",width:"100%",height:400,sx:{borderRadius:h=>h.shape.borderRadius/5}})}):e.jsxs(x,{className:"hoverCard",children:[e.jsx(b,{component:u,to:`/apps/blog/detail/${d}`,onClick:()=>a(j(d)),children:e.jsx(Q,{sx:{backgroundColor:h=>N(h.palette.grey[900],.6)}})}),e.jsx(O,{children:e.jsxs(p,{height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column",children:[e.jsx(p,{children:e.jsxs(o,{direction:"row",children:[e.jsx(M,{title:c.name,placement:"top",children:e.jsx(A,{"aria-label":"recipe",src:c.avatar})}),e.jsx(B,{sx:{marginLeft:"auto"},label:g,size:"small",color:"primary"})]})}),e.jsxs(p,{children:[e.jsx(p,{my:3,children:e.jsx(b,{gutterBottom:!0,variant:"h3",color:"inherit",sx:{textDecoration:"none"},component:u,to:`/apps/blog/detail/${d}`,onClick:()=>a(j(d)),children:l})}),e.jsxs(o,{direction:"row",gap:3,alignItems:"center",children:[e.jsxs(o,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(R,{size:"18"})," ",t]}),e.jsxs(o,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(z,{size:"18"})," ",r.length]}),e.jsxs(o,{direction:"row",ml:"auto",alignItems:"center",children:[e.jsx(L,{size:"16"}),e.jsx("small",{children:D(new Date(m),"E, MMM d")})]})]})]})]})})]})}):""})},V=()=>{const i=I();v.useEffect(()=>{i(_())},[i]);const s=(t,r,g)=>(r==="newest"&&(t=C.orderBy(t,["createdAt"],["desc"])),r==="oldest"&&(t=C.orderBy(t,["createdAt"],["asc"])),r==="popular"&&(t=C.orderBy(t,["view"],["desc"])),t&&(t=t.filter(c=>c.featured===!1))),a=t=>t=t.filter(r=>r.featured),n=T(t=>s(t.blogReducer.blogposts,t.blogReducer.sortBy,t.blogReducer.blogSearch)),l=T(t=>a(t.blogReducer.blogposts));return e.jsxs(f,{container:!0,spacing:3,children:[l.map((t,r)=>e.jsx(U,{index:r,post:t},t.title)),n.map(t=>e.jsx(F,{post:t},t.id)),e.jsx(f,{item:!0,lg:12,sm:12,mt:3,children:e.jsx(K,{count:10,color:"primary",sx:{display:"flex",justifyContent:"center"}})})]})},Le=()=>e.jsxs(H,{title:"Blog",description:"this is Blog page",children:[e.jsx(Z,{title:"Blog app",subtitle:"Get the latest news"}),e.jsx(V,{})]});export{Le as default};
