import{r,a0 as he,j as R,a2 as u,b0 as Fe,ac as ke,aT as Y,bJ as Ae,bC as Ie}from"./index-f22446e5.js";import{u as be,e as ee,a as Ee,g as He,s as ye,d as ce,c as We}from"./Typography-493ceae3.js";import{f as Pe}from"./formControlState-02eb4045.js";import{u as Me,F as Oe}from"./useFormControl-c5cffc22.js";import{i as Te}from"./utils-5ebfb48b.js";import{o as pe,d as Le}from"./ownerWindow-698471fc.js";import{i as fe}from"./Grid-6c01a67e.js";const Ne=["onChange","maxRows","minRows","style","value"];function U(t){return parseInt(t,10)||0}const je={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function me(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const $e=r.forwardRef(function(e,o){const{onChange:p,maxRows:d,minRows:c=1,style:I,value:z}=e,M=he(e,Ne),{current:B}=r.useRef(z!=null),w=r.useRef(null),E=be(o,w),h=r.useRef(null),b=r.useRef(0),[F,H]=r.useState({outerHeightStyle:0}),W=r.useCallback(()=>{const a=w.current,l=pe(a).getComputedStyle(a);if(l.width==="0px")return{outerHeightStyle:0};const s=h.current;s.style.width=l.width,s.value=a.value||e.placeholder||"x",s.value.slice(-1)===`
`&&(s.value+=" ");const y=l.boxSizing,k=U(l.paddingBottom)+U(l.paddingTop),S=U(l.borderBottomWidth)+U(l.borderTopWidth),v=s.scrollHeight;s.value="x";const A=s.scrollHeight;let g=v;c&&(g=Math.max(Number(c)*A,g)),d&&(g=Math.min(Number(d)*A,g)),g=Math.max(g,A);const V=g+(y==="border-box"?k+S:0),O=Math.abs(g-v)<=1;return{outerHeightStyle:V,overflow:O}},[d,c,e.placeholder]),N=(a,x)=>{const{outerHeightStyle:l,overflow:s}=x;return b.current<20&&(l>0&&Math.abs((a.outerHeightStyle||0)-l)>1||a.overflow!==s)?(b.current+=1,{overflow:s,outerHeightStyle:l}):a},f=r.useCallback(()=>{const a=W();me(a)||H(x=>N(x,a))},[W]);ee(()=>{const a=()=>{const v=W();me(v)||Fe.flushSync(()=>{H(A=>N(A,v))})},x=()=>{b.current=0,a()};let l;const s=Le(x),y=w.current,k=pe(y);k.addEventListener("resize",s);let S;return typeof ResizeObserver!="undefined"&&(S=new ResizeObserver(x),S.observe(y)),()=>{s.clear(),cancelAnimationFrame(l),k.removeEventListener("resize",s),S&&S.disconnect()}},[W]),ee(()=>{f()}),r.useEffect(()=>{b.current=0},[z]);const K=a=>{b.current=0,B||f(),p&&p(a)};return R.jsxs(r.Fragment,{children:[R.jsx("textarea",u({value:z,onChange:K,ref:E,rows:c,style:u({height:F.outerHeightStyle,overflow:F.overflow?"hidden":void 0},I)},M)),R.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:u({},je.shadow,I,{paddingTop:0,paddingBottom:0})})]})});function De(t){return He("MuiInputBase",t)}const Ue=Ee("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),te=Ue,Ke=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Ve=(t,e)=>{const{ownerState:o}=t;return[e.root,o.formControl&&e.formControl,o.startAdornment&&e.adornedStart,o.endAdornment&&e.adornedEnd,o.error&&e.error,o.size==="small"&&e.sizeSmall,o.multiline&&e.multiline,o.color&&e[`color${Y(o.color)}`],o.fullWidth&&e.fullWidth,o.hiddenLabel&&e.hiddenLabel]},_e=(t,e)=>{const{ownerState:o}=t;return[e.input,o.size==="small"&&e.inputSizeSmall,o.multiline&&e.inputMultiline,o.type==="search"&&e.inputTypeSearch,o.startAdornment&&e.inputAdornedStart,o.endAdornment&&e.inputAdornedEnd,o.hiddenLabel&&e.inputHiddenLabel]},Ge=t=>{const{classes:e,color:o,disabled:p,error:d,endAdornment:c,focused:I,formControl:z,fullWidth:M,hiddenLabel:B,multiline:w,readOnly:E,size:h,startAdornment:b,type:F}=t,H={root:["root",`color${Y(o)}`,p&&"disabled",d&&"error",M&&"fullWidth",I&&"focused",z&&"formControl",h&&h!=="medium"&&`size${Y(h)}`,w&&"multiline",b&&"adornedStart",c&&"adornedEnd",B&&"hiddenLabel",E&&"readOnly"],input:["input",p&&"disabled",F==="search"&&"inputTypeSearch",w&&"inputMultiline",h==="small"&&"inputSizeSmall",B&&"inputHiddenLabel",b&&"inputAdornedStart",c&&"inputAdornedEnd",E&&"readOnly"]};return We(H,De,e)},qe=ye("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ve})(({theme:t,ownerState:e})=>u({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${te.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&u({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Je=ye("input",{name:"MuiInputBase",slot:"Input",overridesResolver:_e})(({theme:t,ownerState:e})=>{const o=t.palette.mode==="light",p=u({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),d={opacity:"0 !important"},c=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5};return u({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":p,"&::-moz-placeholder":p,"&:-ms-input-placeholder":p,"&::-ms-input-placeholder":p,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${te.formControl} &`]:{"&::-webkit-input-placeholder":d,"&::-moz-placeholder":d,"&:-ms-input-placeholder":d,"&::-ms-input-placeholder":d,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus:-ms-input-placeholder":c,"&:focus::-ms-input-placeholder":c},[`&.${te.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Ze=R.jsx(Ae,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Qe=r.forwardRef(function(e,o){var p;const d=ke({props:e,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:I,autoFocus:z,className:M,components:B={},componentsProps:w={},defaultValue:E,disabled:h,disableInjectingGlobalStyles:b,endAdornment:F,fullWidth:H=!1,id:W,inputComponent:N="input",inputProps:f={},inputRef:K,maxRows:a,minRows:x,multiline:l=!1,name:s,onBlur:y,onChange:k,onClick:S,onFocus:v,onKeyDown:A,onKeyUp:g,placeholder:V,readOnly:O,renderSuffix:oe,rows:j,slotProps:ne={},slots:re={},startAdornment:T,type:ie="text",value:ge}=d,we=he(d,Ke),$=f.value!=null?f.value:ge,{current:_}=r.useRef($!=null),P=r.useRef(),xe=r.useCallback(n=>{},[]),Se=be(P,K,f.ref,xe),[G,q]=r.useState(!1),i=Me(),m=Pe({props:d,muiFormControl:i,states:["color","disabled","error","hiddenLabel","size","required","filled"]});m.focused=i?i.focused:G,r.useEffect(()=>{!i&&h&&G&&(q(!1),y&&y())},[i,h,G,y]);const J=i&&i.onFilled,Z=i&&i.onEmpty,L=r.useCallback(n=>{Te(n)?J&&J():Z&&Z()},[J,Z]);ee(()=>{_&&L({value:$})},[$,L,_]);const Ce=n=>{if(m.disabled){n.stopPropagation();return}v&&v(n),f.onFocus&&f.onFocus(n),i&&i.onFocus?i.onFocus(n):q(!0)},ve=n=>{y&&y(n),f.onBlur&&f.onBlur(n),i&&i.onBlur?i.onBlur(n):q(!1)},Re=(n,...ue)=>{if(!_){const de=n.target||P.current;if(de==null)throw new Error(Ie(1));L({value:de.value})}f.onChange&&f.onChange(n,...ue),k&&k(n,...ue)};r.useEffect(()=>{L(P.current)},[]);const ze=n=>{P.current&&n.currentTarget===n.target&&P.current.focus(),S&&S(n)};let Q=N,C=f;l&&Q==="input"&&(j?C=u({type:void 0,minRows:j,maxRows:j},C):C=u({type:void 0,maxRows:a,minRows:x},C),Q=$e);const Be=n=>{L(n.animationName==="mui-auto-fill-cancel"?P.current:{value:"x"})};r.useEffect(()=>{i&&i.setAdornedStart(!!T)},[i,T]);const D=u({},d,{color:m.color||"primary",disabled:m.disabled,endAdornment:F,error:m.error,focused:m.focused,formControl:i,fullWidth:H,hiddenLabel:m.hiddenLabel,multiline:l,size:m.size,startAdornment:T,type:ie}),ae=Ge(D),le=re.root||B.Root||qe,X=ne.root||w.root||{},se=re.input||B.Input||Je;return C=u({},C,(p=ne.input)!=null?p:w.input),R.jsxs(r.Fragment,{children:[!b&&Ze,R.jsxs(le,u({},X,!fe(le)&&{ownerState:u({},D,X.ownerState)},{ref:o,onClick:ze},we,{className:ce(ae.root,X.className,M,O&&"MuiInputBase-readOnly"),children:[T,R.jsx(Oe.Provider,{value:null,children:R.jsx(se,u({ownerState:D,"aria-invalid":m.error,"aria-describedby":c,autoComplete:I,autoFocus:z,defaultValue:E,disabled:m.disabled,id:W,onAnimationStart:Be,name:s,placeholder:V,readOnly:O,required:m.required,rows:j,value:$,onKeyDown:A,onKeyUp:g,type:ie},C,!fe(se)&&{as:Q,ownerState:u({},D,C.ownerState)},{ref:Se,className:ce(ae.input,C.className,O&&"MuiInputBase-readOnly"),onBlur:ve,onChange:Re,onFocus:Ce}))}),F,oe?oe(u({},m,{startAdornment:T})):null]}))]})}),it=Qe;export{it as I,qe as a,Je as b,_e as c,te as i,Ve as r};
